## 웹 스토리지(로컬 스토리지, 세션 스토리지), 쿠키

- 웹 스토리지란 HTML5부터 제공하는 기능으로, **해당 도메인과 관련된 특정 데이터**를 서버가 아니라 **클라이언트의 웹브라우저에 저장**할 수 있는 기능이다. 쿠키와 비슷하다.
- Web Storage의 개념은 키/값 쌍으로 데이터를 저장하고, 키를 기반으로 데이터를 조회하는 패턴이다. Local Storage(영구저장소)와 SessionStorage(임시저장소)를 따로 두어 **데이터의 지속성을 구분할 수 있어** 응용 환경에 맞는 선택이 가능하다.
- Web Storage는 쿠키와 마찬가지로 **사이트의 도메인 단위로 접근이 제한**된다. 데이터의 보안 측면에서 당연하다.
- 웹 스토리지는 영구 데이터 저장이 가능하다. 만료기간의 설정이 없기 때문이다. 쿠키는 만료일자를 지정하게 되어 언젠가 제거된다. 만약 만료일자를 지정하지 않으면 **세션 쿠키**가 된다**.** 만일 영구 쿠키를 원한다면 만료일자를 굉장히 멀게 설정해서 해결할 수 있다.
  - 세션쿠키 (Session Cookie) 활성 웹 브라우저 세션이 있는 기간동안 저장된다. 세션쿠키는 일반적으로 웹 브라우저를 닫을 때 삭제된다.
  - 영구쿠키/지속적쿠키 (Persistent Cookie) 각 쿠키에 지정된 기간동안 또는 장치에서 쿠키를 수동으로 삭제할 때까지 장치에 남아있는다.

### 로컬 스토리지와 쿠키의 차이점

- 쿠키는 매번 서버로 전송된다. 웹사이트에서 쿠키를 설정하면 이후 모든 웹 요청은 쿠키정보를 포함해 서버로 전송된다. **웹 스토리지는 저장된 데이터가 클라이언트에 존재할 뿐 서버로 전송되지는 않는다. 이는 네트워크 트래픽 비용을 줄여준다.**
- 웹 스토리지는 단순 문자열을 넘어 객체 정보를 저장할 수 있다. 문자열 기반 데이터 외에 **체계적으로 구조화된 객체를 저장할 수 있다.** (단, 브라우저의 지원 여부를 확인해봐야 한다.)
- 웹 스토리지는 용량의 제한이 없다. 쿠키는 개수와 용량에 제한이 있다. 클라이언트에 최대 300개의 쿠키를 저장할 수 있으며, 하나의 사이트(도메인)에서는 최대 20개를 저장할 수 있다. 또한, 하나의 쿠키값은 최대 4KB로 제한되어 있다.

### 로컬 스토리지, 세션 스토리지의 차이

LocalStorage : 브라우저를 닫았다가 다시 열어도 계속 유지된다.

- 다만 동일한 컴퓨터에서 동일한 브라우저를 사용할 때만 해당된다.

SessionStorage: 브라우저를 닫으면 삭제된다.

- 도메인별로 별도로 생성된다. 같은 사이트의 다른 도메인이라도 브라우저가 다르면 서로 다른 영역이 된다. Browser Context가 다르기 때문이다.

### 요약

브라우저 저장소로 Cookie와 Web Storage가 있다. 둘 모두 해당 도메인과 관련된 데이터를 클라이언트 웹 브라우저에 저장할 수 있도록 해준다. 둘 다 사이트의 도메인 단위로 접근이 제한된다. 예를 들면, A 도메인에서 저장한 데이터는 B 도메인에서 접근할 수 없는 것이다.

Cookie는 매번 서버로 전송되고, 문자열만 저장이 가능하며, 용량 제한, 만료 일자가 존재한다.

Web Storage는 데이터를 서버에 전송하지 않는다. 문자열 외에도 구조화된 객체를 저장할 수 있어 개발 편의성을 제공해 주고, 용량도 무제한이다. 영구성도 띈다.